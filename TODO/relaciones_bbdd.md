# Relaciones de la Base de Datos

## La historia de los alumnos

En el centro de todo el sistema de gestión del jardín de infantes se encuentran los alumnos. Cada uno de ellos es una entidad completa que contiene información vital para su cuidado, educación y seguridad. La base de datos no solo almacena sus datos básicos como nombres, fechas de nacimiento y DNI, sino que también construye una red de relaciones que permite una gestión integral de su experiencia escolar.

### Dónde viven nuestros alumnos

Cada alumno tiene asociada una dirección completa que incluye calle, número, ciudad, provincia y código postal. Esta información es fundamental para garantizar que el jardín pueda contactar a las familias en caso de emergencia o para cualquier comunicación importante. La dirección no es solo un dato formal, sino un vínculo con el entorno del alumno fuera del jardín.

### Contactos de emergencia: la seguridad como prioridad

La seguridad de cada alumno es esencial, y por eso cada uno tiene designado uno o más contactos de emergencia. Estos contactos pueden ser padres, abuelos o tutores que pueden ser llamados en caso de alguna situación imprevista. La base de datos permite registrar no solo la información de contacto, sino también el tipo de relación, la prioridad del contacto y si está autorizado para recoger al niño. Esta red de seguridad es vital para el funcionamiento diario del jardín.

### Asignación a salas: el entorno de aprendizaje

Cada alumno está cuidadosamente asignado a una sala específica que se adapta a su edad, nivel de desarrollo y horario. Las salas pueden tener diferentes turnos (mañana, tarde o ambos) y están organizadas por grupos de edad. Esta asignación permite un seguimiento personalizado del proceso educativo de cada alumno y facilita la organización de actividades acordes a sus necesidades.

### La importancia de los responsables

Un alumno no está solo en este proceso: detrás siempre hay uno o más responsables que forman parte activa de su vida educativa. La base de datos permite registrar múltiples responsables (padres, madres, tutores, abuelos) y establecer el tipo de relación con cada alumno. Además, se pueden definir diferentes niveles de autorización: quién puede recoger al alumno, quién está autorizado para tomar decisiones médicas, quién es responsable de los pagos y quién puede autorizar cambios en la información. Esta complejidad de relaciones refleja la realidad familiar de cada alumno.

### Documentos: el pilar de la documentación escolar

Cada alumno trae consigo una serie de documentos esenciales: certificados de nacimiento, vacunas, autorizaciones firmadas, fotos, entre otros. La base de datos permite almacenar cada uno de estos documentos, su tipo, fecha de subida, estado de verificación y si ya han sido entregados físicamente. Esta gestión documental es crucial para cumplir con los requisitos legales y garantizar la seguridad sanitaria de todos los alumnos.

### El recorrido de cada alumno: historial de estados

La vida escolar de cada alumno está registrada a través de un historial de estados. Desde que se preinscribe, pasa por diferentes fases (pendiente, aprobado, en sorteo, inscripto, activo) hasta que eventualmente egresa. Cada cambio de estado está documentado con fechas, razones y personal responsable, permitiendo un seguimiento completo de la trayectoria de cada alumno en el jardín.

### Documentación pendiente: control proactivo

La base de datos también permite identificar qué documentos faltan o son necesarios para cada alumno. Esto es especialmente útil durante los procesos de reinscripción o cuando se detecta que cierta documentación no está completa. El sistema notifica qué alumnos tienen documentación pendiente, permitiendo una gestión proactiva en lugar de reactiva.

### Asistencia: el registro diario

Cada día que el alumno asiste al jardín es registrado en el sistema. La asistencia se puede registrar para diferentes turnos: mañana, tarde o ambos turnos (mañana y tarde). Esta información permite a los docentes y directivos mantener un control detallado de la asistencia, identificar patrones de ausentismo y mantener a las familias informadas sobre la presencia de sus hijos. La asistencia también se relaciona con la sala correspondiente, lo que permite análisis específicos por grupos.

Además del registro de asistencia de los alumnos, también se registra la asistencia del personal, lo que permite una gestión completa de la presencia en el jardín. El sistema también permite registrar retiros antes o después del horario habitual por parte de los autorizados, lo que proporciona un control detallado del tiempo de permanencia de cada alumno.

### Gestión de vacunación

En cuanto a la vacunación, la libreta de vacunación se carga como un documento en el sistema, formando parte de la documentación del alumno. Además, el sistema incluye un módulo especializado que realiza un chequeo automático de las vacunas del calendario vacunal. Este módulo compara las vacunas registradas en la libreta con las vacunas que corresponden según el calendario oficial y genera un control de vacunas activas (ya aplicadas) y vacunas faltantes (por aplicar). Esta funcionalidad es crucial para garantizar que los alumnos estén al día con las vacunas requeridas y para alertar a las familias sobre las vacunas pendientes.

### Módulo de entrevistas con personal de salud

El sistema incluye un módulo especializado que permite designar entrevistas entre los familiares del alumno (padres, madres, tíos, tías, abuelos, abuelas) y el personal de salud del jardín, que puede incluir a la psicóloga, la doctora o la especialista social. Estas entrevistas son fundamentales para evaluar el bienestar integral del alumno y para mantener una comunicación directa entre las familias y los profesionales de salud que atienden en el establecimiento.

El módulo permite programar, registrar y seguir las recomendaciones o conclusiones de cada entrevista, asegurando que cualquier aspecto relevante para el desarrollo y bienestar del alumno sea documentado y monitoreado adecuadamente. Estas entrevistas pueden ser solicitadas tanto por iniciativa del jardín como por solicitud de las familias, facilitando una atención integral y personalizada para cada alumno.

### Gestión de documentos y módulo de revisión

El sistema implementa un módulo integral de revisión de documentos que abarca todos los tipos de documentos digitales de respaldo en el sistema. Este módulo permite revisar, verificar y aprobar documentos de alumnos (como certificados de nacimiento, vacunas, autorizaciones), documentos de padres (como identificaciones y autorizaciones de retiro), documentos del personal (como credenciales y certificaciones), actas de reuniones, documentación de salidas, permisos especiales (pañales, salidas, retiro autorizado, etc.) y todo tipo de documento de respaldo digital.

El sistema permite registrar la verificación de la entrega física de documentos, lo que se complementa con la revisión digital. Cada documento puede tener un estado de verificación (pendiente, verificado, rechazado) y puede estar asociado al personal encargado de la revisión. Esta funcionalidad garantiza que todos los documentos esenciales estén completos y verificados, lo cual es fundamental para la operación segura y legal del jardín.

### Módulo de reuniones y actas

El sistema también incluye un módulo específico para la gestión de reuniones entre directivos y las familias de cada alumno, incluyendo a tíos, padres, abuelas u otros responsables. Este módulo permite programar, llevar registro y generar actas de reuniones tanto realizadas por directivos como por personal de apoyo del jardín.

Cada acta incluye la identificación del responsable de la acta (quien la redacta y autoriza), la fecha y hora de la reunión, los participantes, el propósito de la reunión y las conclusiones o acuerdos alcanzados. Este módulo asegura que toda la comunicación formal entre el jardín y las familias quede documentada y accesible para seguimiento y referencia futura. La posibilidad de asignar un responsable de acta garantiza la formalidad y precisión en el registro de cada encuentro con las familias.

## El entramado de relaciones en el sistema

### Gestión de personal por directivos y administradores

El sistema permite que directivos o administradores realicen operaciones CRUD (crear, leer, actualizar, eliminar) sobre el personal del jardín. Además del portal de autogestión donde el personal puede cargar y editar su propia información, los directivos tienen la capacidad de gestionar estados del personal como vacaciones, enfermedad, y altas y bajas. Cada cambio de estado es registrado en el sistema, permitiendo un seguimiento detallado de la situación laboral de cada empleado. Esta funcionalidad es fundamental para la administración efectiva del recurso humano en el jardín.

### El personal como columna vertebral

El sistema también gestiona al personal del jardín, que incluye docentes, administrativos, directivos y otros funcionarios. Cada miembro del personal puede estar asignado a una o más salas y tiene un rol definido (docente, director, secretario, etc.) que determina sus permisos y responsabilidades. Este personal incluye también a maestros especializados en áreas específicas como arte, música, gimnasia, inglés y expresión corporal, quienes tienen roles definidos y pueden estar asignados a salas o actividades específicas según sus especialidades.

### Módulo de calendario

El sistema incluye un módulo de calendario que permite a los responsables registrar y gestionar importantes fechas y eventos del jardín. Este módulo permite registrar períodos de inscripción, inicio y fin de clases, periodos de vacaciones, receso invernal, feriados, días del personal activo, días de maestro, y clases especiales de arte, música, gimnasia, inglés y expresión corporal.

Además, se pueden registrar celebraciones y eventos especiales del jardín, lo que permite una planificación integral del año escolar. El módulo de calendario también registra salidas educativas y excursiones, así como las reuniones de los directivos con familias, reuniones del personal de apoyo (psicóloga, especialista social, etc.) con familias, y reuniones del personal interno del jardín.

El calendario también permite identificar qué personal está asignado a cada tipo de actividad, facilitando la coordinación de las diferentes especialidades y garantizando que cada evento o clase especial esté debidamente supervisado por el personal correspondiente. Esta funcionalidad es vital para la organización del calendario académico y la coordinación de actividades especiales a lo largo del año lectivo.

### Comunicación bidireccional

El sistema implementa una mensajería bidireccional que permite la comunicación tanto desde el jardín hacia las familias como desde las familias hacia el jardín. A través de los responsables, se crean conversaciones que pueden incluir a múltiples participantes (múltiples responsables y personal del jardín). La base de datos distingue entre mensajes enviados por guardianes (padres, madres, tutores) y mensajes enviados por el personal del jardín, permitiendo así un control detallado de quién puede enviar mensajes y a quién. Esta funcionalidad permite que las familias puedan comunicarse directamente con el personal del jardín para consultas, notificaciones o actualizaciones sobre sus hijos.

### Control de permisos y autenticación

El sistema implementa un modelo de permisos detallado que define qué puede hacer cada rol en cada módulo del sistema. Esto asegura que la información sensible esté protegida y que cada usuario pueda acceder solo a los datos y funciones necesarias para su labor. Los roles pueden tener diferentes niveles de acceso (administrador, director, docente, secretario, tutor) que reflejan la estructura real del jardín.

Tanto el personal del jardín como los padres/tutores tienen sistemas de autenticación diferentes. El personal utiliza credenciales tradicionales (correo electrónico y contraseña) para acceder al sistema, mientras que los padres/tutores pueden autenticarse a través de Google o con credenciales específicas. La base de datos mantiene un registro de usuarios de portal para padres (parent_portal_users), permitiendo la integración con servicios de autenticación externos.

### Habilitación de funcionalidades

El administrador y el director tienen la capacidad de habilitar o deshabilitar páginas y funcionalidades del sistema según sea necesario. Esto incluye la posibilidad de permitir o restringir que el personal pueda cargar cierta información, como asistencias, comentarios o actualizaciones sobre alumnos. Esta flexibilidad permite adaptar el sistema a las necesidades operativas del jardín en diferentes momentos del año. Por ejemplo, pueden deshabilitar temporalmente la carga de asistencias durante vacaciones o períodos de cierre.

### Portal de preinscripción y gestión de responsables

Existe un portal dedicado para que los padres puedan preinscribir a sus hijos y cargar información sobre los responsables (personas autorizadas para el retiro, contactos de emergencia, etc.). Este portal es controlado por el administrador y director, quienes pueden habilitarlo o deshabilitarlo según las fechas de preinscripción. Los padres pueden acceder a este portal externo para completar formularios de inscripción, cargar documentación y designar a las personas que tendrán autorización para recoger a sus hijos o tomar decisiones médicas. La base de datos mantiene un control de los borradores y estados de envío de estos formularios.

### Proceso de preinscripción e inscripción

El sistema gestiona dos vías de inscripción: la preinscripción desde el portal de padres y la inscripción realizada por personal autorizado. En ambos casos, se cargan documentos de respaldo que son verificados. Si falta algún documento, se registra el hecho en la tabla `pending_documentation`, lo que permite un seguimiento sistemático de lo que aún se requiere.

El proceso comienza con la preinscripción, donde los padres o el personal autorizado registran la información del alumno. Una vez completada esta etapa, y cuando los responsables confirman y revisan tanto los datos como la documentación disponible, los alumnos preinscriptos pasan al estado "sorteo". Este estado indica que están listos para ser considerados en el proceso de asignación, usualmente cuando hay más solicitudes que cupos disponibles.

El responsable (administrador o director) luego puede habilitar al alumno, lo que lo convierte en integrante de una sala. Es importante notar que esta habilitación puede ocurrir incluso si aún falta documentación pendiente. La gestión de avisos a responsables y padres es vital en este proceso para recordarles sobre la situación de documentación incompleta.

En la página de configuración del sistema, se puede definir qué documentación es necesaria para completar el proceso de inscripción y qué documentos pueden ser entregados posteriormente. Esto permite una flexibilidad controlada en el proceso de inscripción, adaptándose a las circunstancias particulares de cada familia.

Durante la inscripción, se asigna al alumno una sala y un turno. Los turnos pueden ser solo mañana o mañana y tarde, dependiendo de las necesidades de la familia y la disponibilidad del jardín. El sistema permite esta flexibilidad en la asignación de turnos, lo que es fundamental para acomodar las diferentes necesidades horarias de las familias.

Los datos de los alumnos incluyen toda la información detallada del proyecto, como nombres completos (con posibilidad de primer, segundo y tercer nombre), apellidos paterno y materno, alias o nombre preferido, fecha de nacimiento, DNI, información médica (seguro de salud, número de afiliado, alergias, medicamentos, observaciones médicas, tipo de sangre, nombre y teléfono del pediatra), autorizaciones (fotografía, excursiones, atención médica), y observaciones generales sobre el alumno. Esta información completa permite una gestión integral del alumno desde su ingreso hasta su egreso.

## El resultado de este diseño

Todo este entramado de relaciones permite una gestión integral del jardín de infantes, donde cada alumno es conocido en profundidad, su entorno familiar es comprendido, sus documentos están organizados y su seguridad está garantizada. La base de datos no solo almacena información, sino que crea conexiones que reflejan la realidad compleja de la vida escolar, permitiendo una atención personalizada y segura para cada niño y niña. La comunicación bidireccional entre el jardín y las familias, combinada con el control de permisos y la habilitación selectiva de funcionalidades, permite una administración flexible y eficiente del establecimiento educativo.